<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Valuto.com API DEMO</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="/index.css">

</head>
<body ng-app="demo-app">

<div class="container" ng-controller="DemoAppCtrl">
  <h1>
    Valuto.com API DEMO
    <button class="btn btn-danger" ng-click="resetAndReload()">Reset forms to default and reload</button>
  </h1>

  <h3>Basic data</h3>

  <form novalidate>

    <div class="form-group">
      <label for="api_url">Valuto.com API server address</label>
      <input type="text" class="form-control" id="api_url" name="api_url" ng-model="data.api_url" required="">
    </div>

    <div class="form-group">
      <label for="api_id">API ID</label>
      <input type="text" class="form-control" id="api_id" name="api_id" ng-model="data.api_id" required>
    </div>

    <div class="form-group">
      <label for="priv-key">RSA Private key</label>
    <textarea class="form-control" id="priv-key" ng-model="data.priv_key"
              placeholder="RSA PRIVATE KEY goes here..." required=""></textarea>
    </div>

    <button class="btn btn-primary" ng-click="submitPing()">PING</button>
    <button class="btn btn-primary" ng-click="submitVerify()">Verify signature</button>
    <button ng-hide="showOperations" class="btn btn-info" ng-click="showOperations = true">Show operations</button>
  </form>

  <div ng-show="showOperations">

    <h3>Registration</h3>

    <form novalidate>
      <div class="form-group">
        <label for="registration_url">Valuto.com registration address</label>
        <input type="text" class="form-control" id="registration_url" name="registration_url"
               ng-model="registration.url" required="">
      </div>
      <div class="form-group">
        <label for="correlation_id">Correlation ID</label>
        <input type="text" class="form-control" id="correlation_id" name="correlation_id"
               ng-model="registration.correlation_id" required="">
      </div>
      <div class="form-group">
        <label for="firstname">First name</label>
        <input type="text" class="form-control" id="firstname" name="firstname"
               ng-model="registration.firstname" required="">
      </div>
      <div class="form-group">
        <label for="lastname">Last name</label>
        <input type="text" class="form-control" id="lastname" name="lastname"
               ng-model="registration.lastname" required="">
      </div>
      <div class="form-group">
        <label for="company_name">Company</label>
        <input type="text" class="form-control" id="company_name" name="company_name"
               ng-model="registration.company_name" required="">
      </div>
      <div class="form-group">
        <label for="email">E-mail</label>
        <input type="text" class="form-control" id="email" name="email"
               ng-model="registration.email" required="">
      </div>
      <div class="form-group">
        <label for="tax_id">Tax ID</label>
        <input type="text" class="form-control" id="tax_id" name="tax_id"
               ng-model="registration.tax_id" required="">
      </div>
      <div class="form-group">
        <label for="phone">Phone</label>
        <input type="text" class="form-control" id="phone" name="phone"
               ng-model="registration.phone" required="">
      </div>
      <div class="form-group">
        <label for="street">Street</label>
        <input type="text" class="form-control" id="street" name="street"
               ng-model="registration.street" required="">
      </div>
      <div class="form-group">
        <label for="postal_code">Postal code</label>
        <input type="text" class="form-control" id="postal_code" name="postal_code"
               ng-model="registration.postal_code" required="">
      </div>
      <div class="form-group">
        <label for="city">City</label>
        <input type="text" class="form-control" id="city" name="city"
               ng-model="registration.city" required="">
      </div>
      <div class="form-group">
        <label for="region">Region</label>
        <input type="text" class="form-control" id="region" name="region"
               ng-model="registration.region" required="">
      </div>
      <a href="{{registration.redirectUrl()}}" target="_blank" type="submit" class="btn btn-primary">
        Submit registration
      </a>
    </form>

    <h3>Payment</h3>

    <form ng-submit="submitPayment()">
      <label for="payment">Payment data</label>
      <textarea class="form-control" id="payment" rows="15" ng-model="payment" required></textarea>
      <button type="submit" class="btn btn-primary">Submit payment</button>
    </form>

    <h3>Fetch operation</h3>

    <form>
      <label for="next_oid">next_oid (optional)</label>
      <input type="text" class="form-control" id="next_oid" ng-model="fetch.next_oid">

      <label>{{fetch.status}}</label>
      <pre>{{fetch.response | json}}</pre>
      <button type="button" class="btn btn-primary" ng-click="startFetching()" ng-hide="fetch.in_progress">Fetch start
      </button>
      <button type="button" class="btn btn-danger" ng-click="stopFetching()" ng-show="fetch.in_progress">Fetch stop
      </button>
    </form>
  </div>

</div>
<!-- /.container -->

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ramda/0.18.0/ramda.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
<script src="https://cdn.rawgit.com/grevory/angular-local-storage/master/dist/angular-local-storage.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/ramda/0.18.0/ramda.min.js"></script>
<script src="/index.js"></script>

</body>
</html>
